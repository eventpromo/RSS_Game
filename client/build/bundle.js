!function(t){var e={};function n(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);class s{handler(t,e,n){t.onload=function(){if(200==this.status)e(this.response);else{var t=new Error(this.statusText);t.code=this.status,n(t)}},t.onerror=function(){n(new Error("Network Error"))}}get(t,e=!0){let n=this;return new Promise(function(s,i){let r=new XMLHttpRequest;r.open("GET",t,e),n.handler(r,s,i),r.send()})}post(t,e,n=!0){let s=this;return new Promise(function(i,r){let a=new XMLHttpRequest,o=JSON.stringify(e);a.open("POST",t,n),a.setRequestHeader("Content-type","application/json; charset=utf-8"),s.handler(a,i,r),a.send(o)})}}var i=class{constructor(t){this.loaded=!1,this.template=t,this.loading=(new s).get(this.template).then(t=>{var e=document.createElement("div");return e.innerHTML=t,this.html=e.firstChild,this.loaded=!0,this.html})}};var r=class extends i{constructor(){super("../templates/dashboard.html"),this.loading=this.loading.then(t=>(this.newGameButton=t.querySelector(".button_new-game"),this.ratingButton=t.querySelector(".button_rating"),this.profileButton=t.querySelector(".button_profile"),this.body=t.querySelector(".dashboard__body"),this.addListeners(),t))}upload(t){return Promise.all([this.loading,t.loading]).then(t=>(this.body.innerHtml="",this.body.appendChild(t[1]),this.html))}addListeners(){this.newGameButton.addEventListener("click",function(){}),this.profileButton.addEventListener("click",function(){}),this.ratingButton.addEventListener("click",function(){})}};var a=class extends i{constructor(){super("../templates/profile.html"),this.data={},this.loading=this.loading.then(t=>(this.saveButton=t.querySelector(".save-button"),this.addListeners(),t))}addListeners(){this.saveButton.addEventListener("click",function(t){t.preventDefault();let e=this.html.querySelector(".profile .form");this.data={firstName:e.firstName,lastName:e.lastName,email:e.email},this.save()})}save(){window.localStorage.currentUser=this.data.email,window.localStorage[this.data.email]=JSON.stringify(this.data),document.dispatchEvent(new CustomEvent("profileSaved",{profile:this.data}))}};var o=class extends i{constructor(){super("../templates/setting.html"),this.loading=this.loading.then(t=>(this.addListeners(),t))}addListeners(){}};var d=class extends i{constructor(){super("../templates/start.html"),this.loading=this.loading.then(t=>(this.startButton=t.querySelector(".button_start"),this.addListeners(),t))}addListeners(){this.startButton.addEventListener("click",function(t){document.dispatchEvent(new CustomEvent("startClick",{base:this.event}))})}};var l=class{constructor(){this.dashboard=new r,this.user=new a,this.start=new d,this.setting=new o,this.loading=this.dashboard.upload(this.start),this.addListeners()}addListeners(){document.addEventListener("startClick",()=>{this.dashboard.upload(this.profile)}),document.addEventListener("profileSaved",()=>{this.dashboard.upload(this.setting)})}load(){return this.loading}};document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".page .page__content");(new l).load().then(e=>{t.innerHTML=e.outerHTML})})}]);
//# sourceMappingURL=bundle.js.map